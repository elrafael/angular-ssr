<div class="min-h-screen bg-slate-50 p-8">
  <h1 class="text-4xl font-extrabold text-slate-900 tracking-tight mb-8">Posts</h1>

  <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
    @defer (on timer(3000ms)) {
      @for (post of posts(); track post.id) {
        <article
          [style.animation-delay]="$index * 100 + 'ms'"
          class="group bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:border-blue-500 transition-all duration-300 flex flex-col justify-between animate-in fade-in slide-in-from-bottom-4 duration-700 fill-mode-both"
        >
          <div>
            <h2 class="text-2xl font-bold text-slate-900 mb-4 line-clamp-2">{{ post.title }}</h2>
            <p class="text-slate-700 mb-6 line-clamp-3">{{ post.body }}</p>
          </div>
          <a
            href="#"
            class="inline-flex items-center text-blue-600 font-semibold hover:text-blue-800 transition-colors"
          >
            Read more
            <span class="ml-1 group-hover:translate-x-1 transition-transform">â†’</span>
          </a>
        </article>
      } @empty {
        <div
          class="col-span-full text-center py-12 bg-white rounded-2xl border border-dashed border-slate-300"
        >
          <p class="text-slate-500 italic">No posts available at the moment.</p>
        </div>
      }
    } @placeholder {
      @for (i of [1, 2, 3, 4, 5, 6]; track i) {
        <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm animate-pulse">
          <div class="h-8 bg-slate-200 rounded-lg w-3/4 mb-4"></div>
          <div class="space-y-3">
            <div class="h-4 bg-slate-200 rounded w-full"></div>
            <div class="h-4 bg-slate-200 rounded w-5/6"></div>
            <div class="h-4 bg-slate-200 rounded w-4/6"></div>
          </div>
          <div class="h-4 bg-blue-100 rounded w-1/4 mt-8"></div>
        </div>
      }
    } @error {
      <div class="col-span-full p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl">
        <p class="font-bold text-center">Failed to load posts. Please try again later.</p>
      </div>
    }
  </div>
</div>
